<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:PantryGo.ViewModels"
             x:Class="PantryGo.Views.ProfilePage"
             x:DataType="vm:ProfileViewModel"
             Title="{Binding Title}"
             BackgroundColor="{StaticResource Background}">
    
    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="16">
            
            <!-- User Info Card -->
            <Frame Padding="20" CornerRadius="16" BackgroundColor="White">
                <HorizontalStackLayout Spacing="16">
                    <Frame WidthRequest="70" HeightRequest="70" 
                           CornerRadius="35" 
                           BackgroundColor="{StaticResource Primary}"
                           Padding="0">
                        <Label Text="ðŸ‘¤" FontSize="32" 
                               HorizontalOptions="Center" 
                               VerticalOptions="Center"/>
                    </Frame>
                    <VerticalStackLayout VerticalOptions="Center">
                        <Label Text="{Binding User.Name}" 
                               FontSize="20" 
                               FontAttributes="Bold"/>
                        <Label Text="{Binding User.Email}" 
                               FontSize="14" 
                               TextColor="{StaticResource Gray500}"/>
                        <Label Text="{Binding User.Phone}" 
                               FontSize="14" 
                               TextColor="{StaticResource Gray500}"
                               IsVisible="{Binding User.Phone, Converter={StaticResource NullToBoolConverter}}"/>
                    </VerticalStackLayout>
                </HorizontalStackLayout>
            </Frame>
            
            <!-- Menu Items -->
            <Frame Padding="0" CornerRadius="12" BackgroundColor="White">
                <VerticalStackLayout>
                    
                    <!-- My Orders -->
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding ViewOrdersCommand}"/>
                        </Grid.GestureRecognizers>
                        <Label Grid.Column="0" Text="ðŸ“¦" FontSize="20"/>
                        <Label Grid.Column="1" Text="My Orders" FontSize="15" Margin="12,0"/>
                        <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource Gray400}"/>
                    </Grid>
                    <BoxView HeightRequest="1" Color="{StaticResource Gray200}"/>
                    
                    <!-- Addresses -->
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding ManageAddressesCommand}"/>
                        </Grid.GestureRecognizers>
                        <Label Grid.Column="0" Text="ðŸ“" FontSize="20"/>
                        <Label Grid.Column="1" Text="Manage Addresses" FontSize="15" Margin="12,0"/>
                        <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource Gray400}"/>
                    </Grid>
                    <BoxView HeightRequest="1" Color="{StaticResource Gray200}"/>
                    
                    <!-- Help -->
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Label Grid.Column="0" Text="â“" FontSize="20"/>
                        <Label Grid.Column="1" Text="Help &amp; Support" FontSize="15" Margin="12,0"/>
                        <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource Gray400}"/>
                    </Grid>
                    <BoxView HeightRequest="1" Color="{StaticResource Gray200}"/>
                    
                    <!-- About -->
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Label Grid.Column="0" Text="â„¹ï¸" FontSize="20"/>
                        <Label Grid.Column="1" Text="About PantryGo" FontSize="15" Margin="12,0"/>
                        <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource Gray400}"/>
                    </Grid>
                    
                </VerticalStackLayout>
            </Frame>
            
            <!-- Logout Button -->
            <Button Text="Logout" 
                    Command="{Binding LogoutCommand}"
                    BackgroundColor="#FFE0E0"
                    TextColor="#C62828"
                    FontAttributes="Bold"
                    CornerRadius="8"
                    HeightRequest="50"
                    Margin="0,16,0,0"/>
            
            <!-- App Version -->
            <Label Text="PantryGo v1.0.0" 
                   FontSize="12" 
                   TextColor="{StaticResource Gray400}"
                   HorizontalOptions="Center"
                   Margin="0,16"/>
            
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
